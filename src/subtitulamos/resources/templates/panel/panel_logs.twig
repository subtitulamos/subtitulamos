{% extends "panel/panel_base.twig" %}
{% import 'macros/assets.twig' as assets %}
{% import 'macros/alerts.twig' as alerts %}

{% block title %}Alertas{% endblock %}
{% block panel_content %}
  {% for error in auth.flash.errors %}
    {{ alerts.show('error', error) }}
  {% endfor %}
  {% for success in auth.flash.successes %}
    {{ alerts.show('success', success) }}
  {% endfor %}

  <h1>Logs</h1>
  <table>
    <thead>
      <th>Fecha</th>
      <th>Usuario</th>
      <th>Evento</th>
    </thead>

    <tbody>

    {% for event in logs %}
    <tr>
      <td>{{event.date|date("D, d M Y, H:i:s")}}</td>
      <td>{{event.user.username}}</td>
      <td>{{event.data|raw}}</td>
    </tr>
    {% endfor %}

    </tbody>
  </table>
{% endblock %}

{% block scripts %}
  {{ assets.js('panel_alerts') }}
{% endblock %}
